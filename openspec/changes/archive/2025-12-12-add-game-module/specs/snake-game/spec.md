## ADDED Requirements

### Requirement: 贪吃蛇游戏核心玩法
系统 SHALL 提供经典贪吃蛇游戏，支持键盘方向键控制和触摸屏控制。

#### Scenario: 开始游戏
- **WHEN** 用户进入贪吃蛇游戏页面
- **THEN** 显示游戏区域
- **AND** 显示游戏标题"复古像素风贪吃蛇"
- **AND** 显示退出游戏按钮
- **AND** 显示操作说明"使用方向键控制"和"按空格键开始/暂停游戏"
- **AND** 显示分数（初始为0）
- **AND** 蛇初始长度为3-4节，由随机字母组成，位于游戏区域中央
- **AND** 游戏初始状态为暂停，显示暂停提示"按空格键开始游戏"

#### Scenario: 键盘控制蛇移动
- **WHEN** 用户按下方向键（上、下、左、右）
- **THEN** 蛇按照对应方向移动
- **AND** 蛇不能立即反向移动（例如向上移动时不能立即向下）
- **AND** 蛇的移动速度根据长度动态调整，流畅自然

#### Scenario: 移动速度随长度变化
- **WHEN** 蛇的长度小于10格
- **THEN** 移动速度为300ms间隔（最慢）
- **WHEN** 蛇的长度在10-20格之间
- **THEN** 移动速度为200ms间隔（更快）
- **WHEN** 蛇的长度在20-30格之间
- **THEN** 移动速度为160ms间隔（更快）
- **WHEN** 蛇的长度超过30格
- **THEN** 移动速度继续根据长度调整（每10格减少20ms间隔，最快100ms）
- **AND** 蛇越长，移动速度越快

#### Scenario: 空格键开始游戏
- **WHEN** 游戏处于暂停状态
- **AND** 用户按下空格键
- **THEN** 游戏开始运行
- **AND** 隐藏暂停提示
- **AND** 蛇开始移动

#### Scenario: 空格键暂停游戏
- **WHEN** 游戏正在运行
- **AND** 用户按下空格键
- **THEN** 游戏暂停
- **AND** 显示暂停提示"按空格键开始游戏"
- **AND** 蛇停止移动

#### Scenario: 退出游戏
- **WHEN** 用户点击"退出游戏"按钮或按下ESC键
- **THEN** 停止游戏循环
- **AND** 停止游戏时间追踪
- **AND** 返回到游戏列表页面

#### Scenario: 触摸屏控制
- **WHEN** 用户在移动设备上玩游戏
- **THEN** 显示触摸控制按钮（上、下、左、右）
- **AND** 用户可以通过点击按钮控制蛇的移动方向
- **AND** 支持滑动手势控制（向上滑动=向上移动）

#### Scenario: 食物生成
- **WHEN** 游戏开始时或蛇吃到食物后
- **THEN** 在游戏区域内随机生成一个字母作为食物
- **AND** 食物字母从26个英文字母中随机选择
- **AND** 食物不会与蛇身重叠
- **AND** 食物位置在游戏网格内对齐

#### Scenario: 吃到食物
- **WHEN** 蛇的头部移动到食物（字母）位置
- **THEN** 蛇的身体增长一节，新增的身体部分显示被吃的字母
- **AND** 分数增加（例如每吃一个字母+10分）
- **AND** 生成新的随机字母作为食物
- **AND** 显示彩色像素爆炸效果
- **AND** 分数显示有更新动画

#### Scenario: 碰撞检测
- **WHEN** 蛇的头部撞到游戏区域边界
- **THEN** 游戏结束
- **AND** 显示游戏结束弹窗

#### Scenario: 撞到自己
- **WHEN** 蛇的头部撞到自己的身体
- **THEN** 游戏结束
- **AND** 显示游戏结束弹窗

#### Scenario: 游戏结束
- **WHEN** 游戏结束时（撞墙或撞到自己）
- **THEN** 显示全屏半透明遮罩
- **AND** 显示"游戏结束"文字（渐变色和像素风格）
- **AND** 显示最终分数
- **AND** 显示"重新开始"按钮
- **AND** 按钮在鼠标悬停时有缩放效果

#### Scenario: 挑战成功
- **WHEN** 蛇的长度达到50格
- **THEN** 游戏自动暂停
- **AND** 显示挑战成功弹窗
- **AND** 弹窗显示"🎉 挑战成功！"标题
- **AND** 显示最终分数
- **AND** 显示"重新开始"和"返回游戏列表"按钮
- **AND** 用户可以选择重新开始或返回游戏列表

#### Scenario: 重新开始游戏
- **WHEN** 用户点击"重新开始"按钮
- **THEN** 重置游戏状态
- **AND** 蛇回到初始位置和长度
- **AND** 分数重置为0
- **AND** 生成新的食物
- **AND** 游戏重新开始

### Requirement: 复古像素风格视觉设计
系统 SHALL 实现复古像素风格和半调图案的视觉设计，包括游戏元素、UI 和背景。

#### Scenario: 游戏背景
- **WHEN** 用户查看游戏画面
- **THEN** 背景使用深蓝到靛蓝渐变
- **AND** 背景上显示柔和的像素网格（35px x 35px格子）作为装饰
- **AND** 网格颜色与背景协调，不干扰游戏
- **AND** 游戏区域大小为20x20格子，提供合适的游戏空间

#### Scenario: 蛇身视觉
- **WHEN** 用户查看游戏中的蛇
- **THEN** 蛇身由字母组成，每个字母显示在对应的身体节段上
- **AND** 蛇身颜色随着得分增加依次变化（红→橙→黄→绿→蓝→紫）
- **AND** 每个字母使用像素字体显示，字体大小适中（约为格子大小的70%）
- **AND** 字母使用白色填充和黑色描边，确保清晰可见
- **AND** 每段蛇身（字母）使用不同的半调图案来增加层次感（半调图案透明度较低，不干扰字母显示）
- **AND** 蛇身呈现经典像素艺术效果

#### Scenario: 食物视觉
- **WHEN** 用户查看游戏中的食物
- **THEN** 食物显示为随机字母，使用像素字体
- **AND** 字母字体大小适中（约为格子大小的80%），确保清晰可见
- **AND** 字母使用白色填充和黑色描边，确保清晰可见
- **AND** 使用鲜艳的颜色（黄色、橙色）作为背景
- **AND** 通过半调图案展现变化（半调图案透明度较低，不干扰字母显示）
- **AND** 食物字母有闪烁效果（周期性变化亮度或颜色）

#### Scenario: 分数显示
- **WHEN** 用户查看分数
- **THEN** 分数显示在游戏区域上方（不在游戏格子内）
- **AND** 分数显示不会遮挡游戏区域中的字母
- **AND** 使用像素字体
- **AND** 背景带有透明度和模糊效果
- **AND** 得分更新时显示简单的动画效果（例如缩放或闪烁）

#### Scenario: 游戏区域边框
- **WHEN** 用户查看游戏区域
- **THEN** 游戏区域有像素化的渐变色边框（从暗蓝到紫色）
- **AND** 当鼠标悬停在游戏区域时，边框呈现轻微的阴影效果

#### Scenario: 游戏标题
- **WHEN** 用户查看游戏页面
- **THEN** 游戏顶部显示"复古像素风贪吃蛇"标题
- **AND** 使用复古像素字体
- **AND** 标题有脉冲动画效果（周期性缩放或亮度变化）

#### Scenario: 操作说明
- **WHEN** 用户查看游戏页面
- **THEN** 游戏底部显示操作说明
- **AND** 字体使用像素化设计
- **AND** 显示"使用方向键控制蛇的移动"
- **AND** 显示"按空格键开始/暂停游戏"
- **AND** 显示"吃到字母可以让蛇变长，获得分数"

### Requirement: 响应式设计
系统 SHALL 确保游戏画面无滚动条，适配各种屏幕尺寸。

#### Scenario: 桌面端显示
- **WHEN** 用户在桌面设备上玩游戏
- **THEN** 游戏区域居中显示
- **AND** 游戏区域大小适配屏幕
- **AND** 页面无滚动条
- **AND** 所有UI元素完整显示

#### Scenario: 移动端显示
- **WHEN** 用户在移动设备上玩游戏
- **THEN** 游戏区域适配移动屏幕
- **AND** 显示触摸控制按钮
- **AND** 游戏区域大小自动调整
- **AND** 页面无滚动条
- **AND** 所有UI元素完整显示

#### Scenario: 不同屏幕比例
- **WHEN** 用户在不同屏幕比例的设备上玩游戏
- **THEN** 游戏区域保持合适的宽高比
- **AND** 游戏元素按比例缩放
- **AND** 不影响游戏可玩性

### Requirement: 字母主题功能
系统 SHALL 实现字母主题，食物和蛇身都由字母组成。

#### Scenario: 字母生成
- **WHEN** 游戏需要生成新的食物时
- **THEN** 从26个英文字母（A-Z）中随机选择一个字母
- **AND** 每个字母被选中的概率相等
- **AND** 生成的字母作为食物显示在游戏区域

#### Scenario: 蛇身字母显示
- **WHEN** 用户查看游戏中的蛇
- **THEN** 蛇的头部显示为特殊标记（例如箭头或不同颜色）
- **AND** 蛇身的每一节都显示对应的字母
- **AND** 字母使用像素字体清晰显示，字体大小约为格子大小的70%
- **AND** 字母使用白色填充和黑色描边，确保在任何背景下都清晰可见
- **AND** 字母颜色与所在节段的颜色协调

#### Scenario: 吃到字母后蛇身增长
- **WHEN** 蛇吃到字母食物后
- **THEN** 被吃的字母添加到蛇身尾部
- **AND** 新添加的字母成为蛇身的一部分
- **AND** 蛇身长度增加一节
- **AND** 所有字母按顺序显示在蛇身上

#### Scenario: 初始蛇身字母
- **WHEN** 游戏开始时
- **THEN** 蛇的初始身体由3-4个随机字母组成
- **AND** 每个字母从26个英文字母中随机选择
- **AND** 字母按顺序显示在蛇身上

### Requirement: 游戏性能优化
系统 SHALL 确保游戏运行流畅，无明显卡顿。

#### Scenario: 流畅渲染
- **WHEN** 游戏运行时
- **THEN** 游戏画面以至少30fps的速度渲染
- **AND** 蛇的移动流畅无卡顿
- **AND** 动画效果流畅自然

#### Scenario: 浏览器兼容性
- **WHEN** 用户在现代浏览器中打开游戏
- **THEN** 游戏正常运行
- **AND** 支持 Chrome、Firefox、Safari、Edge 等主流浏览器
- **AND** 使用 HTML5 和 JavaScript 标准 API
